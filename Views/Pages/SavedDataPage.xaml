<Page x:Class="ToolVip.Views.Pages.SavedDataPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
      xmlns:local="clr-namespace:ToolVip.Views.Pages" xmlns:models="clr-namespace:ToolVip.Models"
      ScrollViewer.CanContentScroll="False"
      Loaded="OnPageLoaded"
      Title="SavedDataPage">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <ui:TextBlock Text="Danh sách Đã Lưu trữ" 
                      FontSize="20" 
                      FontWeight="Bold" 
                      Margin="20,10"/>

        <ui:ListView Grid.Row="1" 
                     ItemsSource="{Binding ViewModel.SavedProfiles}" 
                     SelectedItem="{Binding ViewModel.SelectedProfile, Mode=TwoWay}"
                     SelectionMode="Single"
                     x:Name="DriverListView"
                     Margin="10">
            <ui:ListView.ItemTemplate>
                <DataTemplate DataType="{x:Type models:DriverProfile}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <ui:SymbolIcon Symbol="CheckmarkCircle24" FontSize="25" Margin="5,0,15,0" Foreground="Green"/>

                        <StackPanel Grid.Column="1">
                            <ui:TextBlock Text="{Binding LicensePlate}" 
                                       FontWeight="Bold" FontSize="16"/>
                            <ui:TextBlock Text="{Binding FullName}" 
                                       Foreground="Gray"/>
                        </StackPanel>
                    </Grid>
                </DataTemplate>
            </ui:ListView.ItemTemplate>
        </ui:ListView>
        <ui:Button Content="{Binding ViewModel.Count}"
                   Grid.Row="1"
                   Opacity="0.8"
                   Width="60"
                   VerticalAlignment="Bottom"
                   HorizontalAlignment="Right"
                   Appearance="Primary"
                   Margin="0,0,20,20"/>
    </Grid>
</Page>